import { useState } from "react";
import { Curso } from "@/types"; // Asegúrate de importar correctamente el tipo

interface EditarCursoProps {
  curso: Curso;
  onGuardar: (cursoEditado: Curso) => void;
  onCancelar: () => void;
}

const EditarCurso: React.FC<EditarCursoProps> = ({ curso, onGuardar, onCancelar }) => {
  const [editandoCurso, setEditandoCurso] = useState<Curso>({
    id: curso.id || 0,
    NombreCurso: curso.NombreCurso || "",
    Valor: curso.Valor || 0,
    Publico: curso.Publico || 1,
    Periodo: curso.Periodo || "",
    Inicio: curso.Inicio || "",
    Fin: curso.Fin || "",
    Horas: curso.Horas || 0,
    CupoMax: curso.CupoMax || 0,
    Lugar: curso.Lugar || "",
    Linea: curso.Linea || 1,
    Estado: curso.Estado || 1,
    Modalidad: curso.Modalidad || 1,
    Unidad: curso.Unidad || 0,
    Profesor: curso.Profesor || 0,
    SegundoPro: curso.SegundoPro || "",
    Proexterno: curso.Proexterno || "",
    Descripcion: curso.Descripcion || "",
    IdTipoCurso: curso.IdTipoCurso || 0,
    LunesIni: curso.LunesIni || "",
    LunesFin: curso.LunesFin || "",
    MartesIni: curso.MartesIni || "",
    MartesFin: curso.MartesFin || "",
    MiercolesIni: curso.MiercolesIni || "",
    MiercolesFin: curso.MiercolesFin || "",
    JuevesIni: curso.JuevesIni || "",
    JuevesFin: curso.JuevesFin || "",
    ViernesIni: curso.ViernesIni || "",
    ViernesFin: curso.ViernesFin || "",
    SabadoIni: curso.SabadoIni || "",
    SabadoFin: curso.SabadoFin || "",
    DomingoIni: curso.DomingoIni || "",
    DomingoFin: curso.DomingoFin || "",
  });

  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {
    const { name, value } = e.target;
    setEditandoCurso((prevCurso) => ({
      ...prevCurso,
      [name]: value,
    }));
  };

  const handleGuardar = () => {
    onGuardar(editandoCurso);
  };

  return (
    <div>
      <h2>Editar Curso</h2>
      <form>
        <label>Nombre del Curso:</label>
        <input type="text" name="NombreCurso" value={editandoCurso.NombreCurso} onChange={handleChange} />

        <label>Valor:</label>
        <input type="number" name="Valor" value={editandoCurso.Valor} onChange={handleChange} />

        <label>Periodo:</label>
        <input type="text" name="Periodo" value={editandoCurso.Periodo} onChange={handleChange} />

        <label>Inicio:</label>
        <input type="date" name="Inicio" value={editandoCurso.Inicio} onChange={handleChange} />

        <label>Fin:</label>
        <input type="date" name="Fin" value={editandoCurso.Fin} onChange={handleChange} />

        <label>Horas:</label>
        <input type="number" name="Horas" value={editandoCurso.Horas} onChange={handleChange} />

        <label>Cupo Máximo:</label>
        <input type="number" name="CupoMax" value={editandoCurso.CupoMax} onChange={handleChange} />

        <label>Lugar:</label>
        <input type="text" name="Lugar" value={editandoCurso.Lugar} onChange={handleChange} />

        <label>Profesor:</label>
        <input type="number" name="Profesor" value={editandoCurso.Profesor} onChange={handleChange} />

        <label>Descripción:</label>
        <input type="text" name="Descripcion" value={editandoCurso.Descripcion} onChange={handleChange} />

        <button type="button" onClick={handleGuardar}>Guardar</button>
        <button type="button" onClick={onCancelar}>Cancelar</button>
      </form>
    </div>
  );
};

export default EditarCurso;