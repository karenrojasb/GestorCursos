"use client";
import { useEffect, useState } from "react";
import { useRouter } from "next/navigation";

export default function Home() {
  const router = useRouter();
  const [isRedirecting, setIsRedirecting] = useState(false);

  useEffect(() => {
    if (isRedirecting) return; // Evita múltiples redirecciones

    setIsRedirecting(true);
    const usuario = localStorage.getItem("usuario");

    if (!usuario) {
      router.replace("/login"); // Usa replace para evitar loops
    } else {
      router.replace("/dashboard"); // Usa replace para evitar loops
    }
  }, [router, isRedirecting]);

  return null; // No mostramos nada mientras decide a dónde redirigir
}