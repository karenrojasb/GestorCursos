// OBTENER CURSO POR ID
async getCourseId(id: number) {
  const curso = await this.prisma.$queryRaw<
    Array<{
      id: number;
      NombreCurso: string;
      Valor: number;
      Publico: string;
      Periodo: string;
      Inicio: Date;
      Fin: Date;
      Horas: number;
      CupoMax: number;
      Lugar: string;
      Linea: string;
      Estado: string;
      Modalidad: string;
      Unidad: string;
      Profesor: string;
      NombreProfesor: string;
      SegundoPro: string | null;
      Proexterno: string | null;
      Descripcion: string;
      IdTipoCurso: number;
      LunesIni: string | null;
      LunesFin: string | null;
      MartesIni: string | null;
      MartesFin: string | null;
      MiercolesIni: string | null;
      MiercolesFin: string | null;
      JuevesIni: string | null;
      JuevesFin: string | null;
      ViernesIni: string | null;
      ViernesFin: string | null;
      SabadoIni: string | null;
      SabadoFin: string | null;
      DomingoIni: string | null;
      DomingoFin: string | null;
    }>
  >`
    SELECT 
      c.id,
      c.NombreCurso,
      c.Valor,
      lp.Especificacion AS Publico,
      c.Periodo,
      c.Inicio,
      c.Fin,
      c.Horas,
      c.CupoMax,
      c.Lugar,
      c.Linea,
      l.Especificacion AS Linea,
      c.Estado,
      est.Especificacion AS Estado,
      c.Modalidad,
      m.Especificacion AS Modalidad,
      u.nombre AS Unidad,
      c.Profesor,  
      e.nombre AS NombreProfesor,
      c.SegundoPro,
      sp.nombre AS SegundoPro,  
      c.Proexterno,
      c.Descripcion,
      c.IdTipoCurso,
      tc.Especificacion AS IdTipoCurso,
      c.LunesIni, 
      c.LunesFin,
      c.MartesIni, 
      c.MartesFin,
      c.MiercolesIni, 
      c.MiercolesFin,
      c.JuevesIni, 
      c.JuevesFin,
      c.ViernesIni, 
      c.ViernesFin,
      c.SabadoIni, 
      c.SabadoFin,
      c.DomingoIni, 
      c.DomingoFin
    FROM gescur.cursos c
    LEFT JOIN gescur.listas lp ON lp.id = c.Publico AND lp.Tipo = 1
    LEFT JOIN gescur.listas l ON l.id = c.Linea AND l.Tipo = 2
    LEFT JOIN gescur.listas m ON m.id = c.Modalidad AND m.Tipo = 3
    LEFT JOIN gescur.listas est ON est.id = c.Estado AND est.Tipo = 4
    LEFT JOIN gescur.listas tc ON tc.id = c.IdTipoCurso AND tc.Tipo = 8
    LEFT JOIN gescur.emp_nomina e ON CAST(c.Profesor AS VARCHAR) = e.id_emp    
    LEFT JOIN gescur.emp_nomina sp ON CAST(c.SegundoPro AS VARCHAR) = sp.id_emp
    LEFT JOIN gescur.unidad u ON c.Unidad = u.codigo
    WHERE c.id = ${id};
  `;

  if (!curso || curso.length === 0) {
    throw new NotFoundException(`El curso con ID ${id} no fue encontrado`);
  }

  return curso[0]; // Retornamos solo el primer resultado.
}