{expandedCursoId === curso.id && (
  <div className="relative bg-white p-4 mt-4 flex justify-center overflow-x-auto rounded-lg shadow">
    <table className="border-collapse w-auto text-sm text-gray-800">
      <thead>
        <tr className="bg-[#990000] text-white text-center">
          <th colSpan={5} className="px-4 py-2 text-base font-semibold tracking-wide border">
            Datos del Curso
          </th>
        </tr>
        <tr className="bg-gray-200 font-semibold text-sm text-center">
          <th className="px-3 py-1 border">ID</th>
          <th className="px-3 py-1 border">Nombre</th>
          <th className="px-3 py-1 border">Valor</th>
          <th className="px-3 py-1 border">Público</th>
          <th className="px-3 py-1 border">Periodo</th>
        </tr>
      </thead>
      <tbody>
        <tr className="text-center">
          <td className="px-3 py-1 border">{curso.id}</td>
          <td className="px-3 py-1 border">{curso.NombreCurso}</td>
          <td className="px-3 py-1 border">{curso.Valor}</td>
          <td className="px-3 py-1 border">{curso.Publico}</td>
          <td className="px-3 py-1 border">{curso.Periodo}</td>
        </tr>

        <tr className="bg-gray-100 font-semibold text-sm text-center">
          <th className="px-3 py-1 border">Inicio</th>
          <th className="px-3 py-1 border">Fin</th>
          <th className="px-3 py-1 border">Horas</th>
          <th className="px-3 py-1 border">Horario</th>
          <th className="px-3 py-1 border">Cupo Máx</th>
        </tr>
        <tr className="text-center">
          <td className="px-3 py-1 border">{curso.Inicio}</td>
          <td className="px-3 py-1 border">{curso.Fin}</td>
          <td className="px-3 py-1 border">{curso.Horas}</td>
          <td className="px-3 py-1 border text-left">
            {formatearHorario(curso).map((h, index) => (
              <div key={index}>
                <strong>{h.dia}</strong> {h.ini} - {h.fin}
              </div>
            ))}
          </td>
          <td className="px-3 py-1 border">{curso.CupoMax}</td>
        </tr>

        <tr className="bg-gray-100 font-semibold text-sm text-center">
          <th className="px-3 py-1 border">Lugar</th>
          <th className="px-3 py-1 border">Línea</th>
          <th className="px-3 py-1 border">Estado</th>
          <th className="px-3 py-1 border">Modalidad</th>
          <th className="px-3 py-1 border">Profesor</th>
        </tr>
        <tr className="text-center">
          <td className="px-3 py-1 border">{curso.Lugar}</td>
          <td className="px-3 py-1 border">{curso.Linea}</td>
          <td className="px-3 py-1 border">{curso.Estado}</td>
          <td className="px-3 py-1 border">{curso.Modalidad}</td>
          <td className="px-3 py-1 border">{curso.NombreProfesor}</td>
        </tr>

        <tr className="bg-gray-100 font-semibold text-sm text-center">
          <th className="px-3 py-1 border">Segundo Pro.</th>
          <th className="px-3 py-1 border">Externo</th>
          <th className="px-3 py-1 border">Unidad</th>
          <th className="px-3 py-1 border">Tipo</th>
          <th className="px-3 py-1 border">Descripción</th>
        </tr>
        <tr className="text-center">
          <td className="px-3 py-1 border">{curso.SegundoPro}</td>
          <td className="px-3 py-1 border">{curso.Proexterno}</td>
          <td className="px-3 py-1 border">{curso.Unidad}</td>
          <td className="px-3 py-1 border">{curso.IdTipoCurso}</td>
          <td className="px-3 py-1 border">{curso.Descripcion}</td>
        </tr>

        {showInscripciones.length > 0 && (
          <>
            <tr className="bg-[#990000] text-white text-sm">
              <th colSpan={6} className="px-4 py-2 border text-left">
                Inscritos en el curso
              </th>
            </tr>
            <tr className="bg-gray-100 text-[#990000] font-medium">
              <th className="px-3 py-1 border">Documento</th>
              <th className="px-3 py-1 border">Nombre</th>
              <th className="px-3 py-1 border">Fecha Registro</th>
              <th className="px-3 py-1 border">Nota</th>
              <th className="px-3 py-1 border">Calificador</th>
              <th className="px-3 py-1 border">Fecha Calificación</th>
            </tr>
            {showInscripciones.map((ins, i) => (
              <tr key={i} className="text-gray-700 text-center even:bg-gray-50">
                <td className="px-3 py-1 border">{ins.docInscr}</td>
                <td className="px-3 py-1 border">{ins.nombre}</td>
                <td className="px-3 py-1 border">{new Date(ins.fecreg).toLocaleDateString()}</td>
                <td className="px-3 py-1 border">{ins.nota ?? '-'}</td>
                <td className="px-3 py-1 border">{ins.calificador ?? '-'}</td>
                <td className="px-3 py-1 border">{ins.fecCalificacion ? new Date(ins.fecCalificacion).toLocaleDateString() : '-'}</td>
              </tr>
            ))}
          </>
        )}
      </tbody>
    </table>
  </div>
)}