useEffect(() => {
  const fetchCursos = async () => {
    if (!idEmp) return;

    try {
      const response = await fetch(`http://localhost:8090/api/cursos?id_emp=${idEmp}`);
      if (!response.ok) throw new Error(`Error HTTP: ${response.status}`);
      const data = await response.json();

      const hoy = new Date();
      const cursosActivos = data.filter((curso: Curso) => !curso.Fin || new Date(curso.Fin) >= hoy);

      setTimeout(() => {
        setCursos(cursosActivos);
        setCursosFiltrados(cursosActivos);
        setIsLoading(false);
      }, 1000);
    } catch (error) {
      console.error("Error al obtener los cursos:", error);
      setIsLoading(false);
    }
  };

  const storedIdEmp = localStorage.getItem("id_emp");
  if (storedIdEmp) setIdEmp(Number(storedIdEmp));

  if (idEmp) fetchCursos();
}, [idEmp]);